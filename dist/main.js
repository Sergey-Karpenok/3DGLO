(()=>{"use strict";(function(e){let t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds"),l=setInterval((function(){let e=function(){let e=(new Date("2021 22 april").getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),o=Math.floor(e/60%60);return{timeRemaining:e,hours:Math.floor(e/3600%24),minutes:o,seconds:t}}();e.timeRemaining>0?(n.textContent=a(e.seconds),o.textContent=a(e.minutes),t.textContent=a(e.hours)):(clearInterval(l),n.textContent="00",o.textContent="00",t.textContent="00")}),1e3);function a(e){return e>0&&e<10?"0"+e:e}})(),function(){const e=document.querySelector(".menu"),t=document.querySelector("menu"),o=(document.querySelector(".close-btn"),t.querySelectorAll("ul>li"),()=>t.classList.toggle("active-menu"));t.addEventListener("click",(e=>{"A"===e.target.tagName&&o()})),e.addEventListener("click",o)}(),function(){const e=document.querySelector(".popup"),t=document.querySelectorAll(".popup-btn"),o=document.querySelector(".popup-content");t.forEach((t=>{t.addEventListener("click",(()=>{window.innerWidth>768?(e.style.display="block",n=requestAnimationFrame(a),l=0):(e.style.display="block",o.style.top="0%",console.log("popup.style.top: ",e.style.top))}))}));let n,l=0;function a(){let e=document.documentElement.clientHeight/2,t=o.getBoundingClientRect().height/2;n=requestAnimationFrame(a),l+=4,l<e-t?o.style.top=l+"px":cancelAnimationFrame(n)}e.addEventListener("click",(t=>{let o=t.target;o.classList.contains("popup-close")?e.style.display="none":(o=o.closest(".popup-content"),null===o&&(e.style.display="none"))}))}(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{let n=e.target;n=n.closest(".service-header-tab"),n&&t.forEach(((e,l)=>{var a;e===n&&(a=l,o.forEach(((e,n)=>{e===o[a]?(t[n].classList.add("active"),e.classList.remove("d-none")):(t[n].classList.remove("active"),e.classList.add("d-none"))})))}))}))})(),(()=>{const e=document.querySelectorAll(".portfolio-item"),t=(document.querySelectorAll(".portfolio-btn"),document.querySelector(".portfolio-content")),o=document.querySelector(".portfolio-dots");let n,l=0;const a=(e,t,o)=>{e[t].classList.remove(o)},c=(e,t,o)=>{e[t].classList.add(o)},r=()=>{a(e,l,"portfolio-item-active"),a(s,l,"dot-active"),l++,l>=e.length&&(l=0),c(e,l,"portfolio-item-active"),c(s,l,"dot-active")},u=(e=3e3)=>{n=setInterval(r,e)};t.addEventListener("click",(t=>{t.preventDefault();let o=t.target;o.matches(".portfolio-btn, .dot")&&(a(e,l,"portfolio-item-active"),a(s,l,"dot-active"),o.matches("#arrow-right")?l++:o.matches("#arrow-left")?l--:o.matches(".dot")&&s.forEach(((e,t)=>{e===o&&(l=t)})),l>=e.length?l=0:l<=0&&(l=e.length-1),c(e,l,"portfolio-item-active"),c(s,l,"dot-active"))})),t.addEventListener("mouseover",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)})),t.addEventListener("mouseout",(e=>{(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u()})),e.forEach((()=>{const e=document.createElement("li");e.classList.add("dot"),o.append(e)})),document.querySelectorAll(".dot")[l].classList.add("dot-active");let s=document.querySelectorAll(".dot");u(15e3)})(),(()=>{const e=document.getElementById("command"),t=e=>{const t=e.target;t.matches("img")&&([t.dataset.img,t.src]=[t.src,t.dataset.img])};e.addEventListener("mouseover",t),e.addEventListener("mouseout",t)})(),document.querySelectorAll(".calc-item").forEach((e=>{e.matches("input")&&e.addEventListener("input",(()=>{e.value=e.value.replace(/\D/g,"")}))})),(()=>{const e=document.getElementById("form2-name"),t=document.getElementById("form2-message"),o=document.querySelector(".form-name");e.addEventListener("input",(()=>{e.value=e.value.replace(/[^а-яА-Я\- ]/g,"")})),o.addEventListener("input",(()=>{o.value=o.value.replace(/[^а-яА-Я\ ]/g,"")})),t.addEventListener("input",(()=>{t.value=t.value.replace(/[^а-яА-Я\- ,.?\d ]/g,"")})),e.addEventListener("blur",(()=>{e.value=e.value.replace(/\ +/," "),e.value=e.value.toLowerCase(),e.value=e.value.replace(/^.|\s\D/g,(e=>e.toUpperCase()))})),t.addEventListener("blur",(()=>{t.value=t.value.replace(/-+/,"-"),t.value=t.value.replace(/\ +/," ")}))})(),(()=>{const e=document.getElementById("form2-email"),t=document.querySelector(".form-email");e.addEventListener("input",(()=>{e.value=e.value.replace(/[^a-zA-Z@-_\.\!~\*']/g,"")})),t.addEventListener("input",(()=>{t.value=t.value.replace(/[^a-zA-Z@-_\.\!~\*']/g,"")}))})(),(()=>{const e=document.getElementById("form2-phone"),t=document.querySelector(".form-phone");e.addEventListener("input",(()=>{e.value=e.value.replace(/[^-()\+\d]/g,"")})),t.addEventListener("input",(()=>{t.value=t.value.replace(/[^-()\+\d]/g,"")})),e.addEventListener("blur",(()=>{e.value=e.value.replace(/-+/,"-")})),t.addEventListener("blur",(()=>{t.value=t.value.replace(/-+/,"-")}))})(),((e=100)=>{const t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),l=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.getElementById("total");t.addEventListener("change",(t=>{const r=t.target;r!==o&&r!==n&&r!==a&&r!==l||(()=>{let t=0,r=1,u=1,s=o.options[o.selectedIndex].value,d=+n.value;a.value>1&&(r+=(a.value-1)/10),l.value&&l.value<5?u*=2:l.value&&l.value<10&&(u*=1.5),s&&d&&(t=Math.floor(e*s*d*r*u)),c.textContent=t})()}))})(100),(()=>{const e="Что-то пошло не так...",t="Загрузка...",o="Заявка отправлена, спасибо мы скоро с вами свяжемся",n=document.getElementById("form1"),l=document.getElementById("form2"),a=document.createElement("div");a.textContent="Все в порядке",a.style.cssText="font-size: 2rem; color: green",n.addEventListener("submit",(l=>{l.preventDefault(),n.appendChild(a),a.textContent=t;const r=new FormData(n);c(r).then((e=>{if(200!==e.status)throw new Error("Ошибка статус не равен 200");a.textContent=o})).catch((t=>{a.textContent=e,console.log(t)}));for(let e of n)e.value=""})),l.addEventListener("submit",(n=>{n.preventDefault(),l.appendChild(a),a.textContent=t;const r=new FormData(l);c(r).then((e=>{if(200!==e.status)throw new Error("Ошибка статус не равен 200");a.textContent=o})).catch((t=>{a.textContent=e,console.log(t)}));for(let e of l)e.value=""}));const c=e=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:e})})()})();